#!/usr/bin/env node

const Paldo = require('..');
const DisplayError = require('../lib/display-error');

Promise.resolve()
    .then(() => Paldo.start({ argv: process.argv, out: process.stdout, cwd: process.cwd }))
    .then(() => process.exit(0))
    .catch((err) => {

        if (err instanceof DisplayError) {
            console.error(err.message);
        }
        else {
            console.error(err.stack);
        }

        process.exit(1);
    });
